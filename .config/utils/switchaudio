#!/bin/zsh

## chosen=$(pactl list short sinks | awk '{ print $1 " " $2 " " $7 }' | rofi -dmenu -l 5 -location 5 -yoffset -30 -p "ðŸŽš" | awk '{ print $1 }')

chosen=$(pactl list short sinks | awk '{ print $1 " " $2 " " $7 }' | rofi -dmenu -l 5 -location 5 -yoffset -30 -p "ðŸŽœ ðŸŽš" )

chosen_sink_id=$(echo $chosen | awk '{ print $1 }' )
chosen_sink_nm=$(echo $chosen | awk '{ print $2 }' )

if [[ ! -z $chosen_sink_nm ]] {

    pactl set-default-sink $chosen_sink_nm
    echo $chosen_sink_nm set as default

    sink_input=$(pactl list short sink-inputs | awk '{ print $1 }' )

    if [[ ! -z $sink_input ]] {

        echo cmd: pactl move-sink-input $sink_input $chosen
        pactl move-sink-input $sink_input $chosen

    } else {
        echo no sink-inputs found!
    }

} else {
    echo Nothing was chosen!
}

